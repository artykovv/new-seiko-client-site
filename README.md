# Client Site - Регистрация и Авторизация

## Что было реализовано

### ✅ Авторизация (Login)
- **Путь**: `/login`
- **Файл**: `src/views/Login.vue`
- **Функционал**:
  - Форма входа с email и паролем
  - Показ/скрытие пароля
  - Чекбокс "Запомнить меня"
  - Сообщение об успешной регистрации (при переходе с регистрации)
  - Ссылка на страницу регистрации
  - Мобильная адаптивная верстка
  - Современный градиентный дизайн
  - Анимации и плавные переходы

### ✅ Регистрация (Register)
- **Путь**: `/register`
- **Файл**: `src/views/Register.vue`
- **Функционал**:
  - **5 шагов регистрации** с прогресс-индикатором:
    1. **Личные данные**: email, пароль, имя, фамилия, отчество
    2. **Паспортные данные**: ПИН, номер паспорта, кем выдан, дата выдачи, дата рождения, телефон
    3. **Дополнительная информация**: банк, ИП/ИНН, пенсионер
    4. **Настройка кабинета**: код, ID пакета, ID филиала, ID спонсора
    5. **Оформление заказа**: адрес доставки, статус, способ доставки, товары
  - Динамическое добавление/удаление товаров в заказе
  - Валидация на каждом шаге
  - Навигация вперед/назад между шагами
  - После успешной регистрации (201) - редирект на `/login` с сообщением об успехе
  - Полностью мобильная адаптивная верстка

### ✅ Главная страница (Home)
- **Путь**: `/`
- **Файл**: `src/views/Home.vue`
- **Функционал**:
  - Приветственная карточка
  - Кнопка выхода
  - Быстрые действия (Профиль, Структура, Кошелек, Заказы)
  - Мобильная адаптивная верстка

### ✅ Роутинг и защита маршрутов
- **Файл**: `src/router/index.js`
- **Функционал**:
  - Публичные страницы: `/login`, `/register`
  - Защищенные страницы: `/` (требуют авторизации)
  - Проверка токена через API: `/api/client/auth/validate-token`
  - Автоматический редирект на `/login` если нет токена

### ✅ API интеграция
- **Логин**: `POST /api/client/auth/jwt/login`
- **Регистрация**: `POST /api/client/participants/register`
- **Валидация токена**: `GET /api/client/auth/validate-token`

### ✅ Дизайн
- Мобильная первая разработка (Mobile-First)
- Современный градиентный дизайн (фиолетовые тона)
- Touch-friendly элементы (минимум 48px высота)
- Плавные анимации и переходы
- Адаптивная верстка для всех устройств
- Поддержка landscape режима на мобильных

### ✅ Технологии
- Vue 3 (Composition API)
- Vue Router 4
- Bootstrap 5.3.8
- Bootstrap Icons 1.13.1
- Vite

### ✅ Удалены стартовые файлы
- ✅ Удалены все демо-компоненты (HelloWorld, TheWelcome, WelcomeItem, icons)
- ✅ Удалены стартовые стили (base.css, main.css, logo.svg)
- ✅ Скопированы логотипы из admin-site

## Структура проекта

```
client-site/
├── public/
│   ├── favicon.svg (скопирован из admin-site)
│   └── logo.svg (скопирован из admin-site)
├── src/
│   ├── assets/
│   │   └── common.css (мобильные стили)
│   ├── components/ (пусто, готово для компонентов)
│   ├── router/
│   │   └── index.js (роутинг с защитой)
│   ├── views/
│   │   ├── Home.vue (главная страница)
│   │   ├── Login.vue (авторизация)
│   │   └── Register.vue (регистрация 5 шагов)
│   ├── App.vue (корневой компонент)
│   ├── config.js (конфигурация API)
│   └── main.js (точка входа)
├── index.html (мобильные meta-теги)
└── package.json (зависимости)
```

## Запуск проекта

```bash
cd client-site
npm install
npm run dev
```

## Особенности регистрации

### Формат данных для регистрации:
```json
{
  "email": "user@example.com",
  "password": "string",
  "name": "string",
  "lastname": "string",
  "patronymic": "string",
  "passport_info": {
    "pin": "string",
    "passport_id": "string",
    "passport_issuer": "string",
    "passport_issue_date": "2025-12-07",
    "bank": "string",
    "ip_inn": false,
    "pensioner": false,
    "phone_number": "string",
    "date_birth": "2025-12-07"
  },
  "cabinet": {
    "code": "string",
    "paket_id": 0,
    "branch_id": 0,
    "sponsor_id": "string"
  },
  "order": {
    "items": [
      {
        "product_id": 0,
        "quantity": 0,
        "unit_price": 0
      }
    ],
    "status_id": 0,
    "delivery_method_id": 0,
    "shipping_address": "string",
    "notes": "string"
  }
}
```

## Мобильная оптимизация

- ✅ Viewport настроен для мобильных устройств
- ✅ Предотвращение зума на iOS (font-size: 16px для input)
- ✅ Touch-friendly кнопки (минимум 48px)
- ✅ Адаптивная сетка для разных экранов
- ✅ Поддержка landscape ориентации
- ✅ PWA meta-теги (theme-color, apple-mobile-web-app)

## Следующие шаги

Можно добавить:
- Восстановление пароля
- Email верификация
- Выбор пакетов и товаров из API
- Поиск спонсора по коду
- Загрузка аватара
- Дополнительные страницы профиля
